        -:    0:Source:cardtest1.c
        -:    0:Graph:cardtest1.gcno
        -:    0:Data:cardtest1.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#include "dominion.h"
        -:    2:#include <stdio.h>
        -:    3:#include <stdlib.h>
        -:    4:
        -:    5:
        4:    6:int myAssert(int test, char* msg) {
        4:    7:  if (!test) {
        1:    8:    printf ("Aseert failed: %s\n", msg);
        -:    9:    if (0) {
        -:   10:      exit(1);
        -:   11:    }
        -:   12:  }
        4:   13:  return 0;
        -:   14:}
        -:   15:
        1:   16:int main() {
        -:   17:
        1:   18:  printf("Villag card test result:\n");
        -:   19:
        -:   20:  struct gameState G;
        1:   21:  int k[9] = {smithy,village,  feast, outpost, adventurer, baron,tribute, cutpurse, embargo};
        -:   22:
        1:   23:  initializeGame(2, k, 9, &G);
        -:   24:
        1:   25:  G.whoseTurn = 1;
        1:   26:  G.hand[1][0] = village;
        1:   27:  int handCount = G.handCount[1];
        1:   28:  int numActions = G.numActions;
        1:   29:  int deckCount = G.deckCount[1];
        1:   30:  int playedCount = G.playedCardCount;
        1:   31:  playCard(0, 0, 0, 0, &G);
        -:   32:
        1:   33:  myAssert(G.handCount[1] == handCount, "Village adds wrong number card for player");
        1:   34:  myAssert(G.deckCount[1] == deckCount - 1, "Village changes wrong number card on deck");
        1:   35:  myAssert(G.playedCardCount == playedCount + 1, "There are wrong amount play cards");
        1:   36:  myAssert(G.numActions == numActions + 1, "Village adds wrong number of action for players");
        -:   37:
        -:   38:}
